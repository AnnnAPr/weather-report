{"version":3,"sources":["src/index.js"],"names":["state","tempValue","document","getElementById","textContent","getRealTemp","place","querySelector","value","axios","get","params","then","response","lat","data","lon","tempF","current","temp","Math","floor","console","log","publishTemp","catch","error","changeTempColor","tempBackground","bodyImg","className","updateTemp","delta","addEvents","addEventListener","input","city","e","target","event","alt","reset","resetValue","getAttribute"],"mappings":";AAAA,aAIA,IAAMA,EAAQ,CACZC,UAAW,IAGbC,SAASC,eAAe,UAAUC,YAAcJ,EAAMC,UAGtD,IAAMI,EAAc,WAClB,IAAMC,EAAQJ,SAASK,cAAc,SAASC,MAG9CC,MAAMC,IAAI,4DAA6D,CACrEC,OAAQ,CACN,EAAKL,KAGRM,KAAK,SAAAC,GACJ,IAAMC,EAAMD,EAASE,KAAK,GAAGD,IACvBE,EAAMH,EAASE,KAAK,GAAGC,IAE7BP,MAAMC,IAAI,2DAA4D,CACpEC,OAAQ,CACN,IAAOG,EACP,IAAOE,KAGVJ,KAAK,SAAAC,GACJ,IACMI,EAA2B,GADnBJ,EAASE,KAAKG,QAAQC,KACb,QAAY,EAAI,GACvCnB,EAAMC,UAAYmB,KAAKC,MAAMJ,GAC7BK,QAAQC,IAAIN,GACZO,MAEDC,MAAM,SAAAC,GAAUJ,QAAQC,IAAI,SAAUG,OAExCD,MAAM,SAAAC,GAAUJ,QAAQC,IAAI,SAAUG,MAInCC,EAAkB,WACtB,IAAMR,EAAOjB,SAASC,eAAe,UAC/ByB,EAAiB1B,SAASC,eAAe,YACzC0B,EAAU3B,SAASC,eAAe,QACpCgB,EAAKf,aAAe,IACtBe,EAAKW,UAAY,MACjBD,EAAQC,UAAY,OACpBF,EAAexB,YAAc,UACpB,IAAMe,EAAKf,aAAgBe,EAAKf,aAAe,IACxDe,EAAKW,UAAY,SACjBD,EAAQC,UAAY,UACpBF,EAAexB,YAAc,UACpB,IAAMe,EAAKf,aAAgBe,EAAKf,aAAe,IACxDe,EAAKW,UAAY,SACjBD,EAAQC,UAAY,UACpBF,EAAexB,YAAc,UACpB,IAAMe,EAAKf,aAAee,EAAKf,aAAe,IACvDe,EAAKW,UAAY,QACjBD,EAAQC,UAAY,SACpBF,EAAexB,YAAc,UACpBe,EAAKf,YAAc,KAC5Be,EAAKW,UAAY,OACjBD,EAAQC,UAAY,QACpBF,EAAexB,YAAc,WAK3B2B,EAAa,SAACC,GAClBhC,EAAMC,WAAa+B,GAIfR,EAAc,WACEtB,SAASC,eAAe,UAChCC,YAAcJ,EAAMC,UAChC0B,KAIIM,EAAY,WACA/B,SAASC,eAAe,YAChC+B,iBAAiB,QAAS,WAChCH,EAAW,GACXP,MAGgBtB,SAASC,eAAe,YAChC+B,iBAAiB,QAAS,WAClCH,GAAY,GACZP,MAIF,IAAMW,EAAQjC,SAASK,cAAc,SAC/B6B,EAAOlC,SAASC,eAAe,eAErCgC,EAAMD,iBAAiB,QAAS,SAACG,GAC/BD,EAAKhC,YAAciC,EAAEC,OAAO9B,QAIfN,SAASK,cAAc,UAC/B2B,iBAAiB,SAAU,SAACK,GAClBrC,SAASK,cAAc,WACZ,SAAtBgC,EAAMD,OAAO9B,OACfN,SAASC,eAAe,OAAO2B,UAAY,QAC3C5B,SAASC,eAAe,OAAOqC,IAAM,SACN,SAAtBD,EAAMD,OAAO9B,OACtBN,SAASC,eAAe,OAAO2B,UAAY,QAC3C5B,SAASC,eAAe,OAAOqC,IAAM,SACN,SAAtBD,EAAMD,OAAO9B,OACtBN,SAASC,eAAe,OAAO2B,UAAY,QAC3C5B,SAASC,eAAe,OAAOqC,IAAM,SACN,UAAtBD,EAAMD,OAAO9B,QACtBN,SAASC,eAAe,OAAO2B,UAAY,SAC3C5B,SAASC,eAAe,OAAOqC,IAAM,YAKzC,IAAMC,EAAQvC,SAASC,eAAe,SAChCuC,EAAaP,EAAMQ,aAAa,SACtCF,EAAMP,iBAAiB,QAAS,WAC9BC,EAAM3B,MAAQkC,EACdN,EAAKhC,YAAcsC,IAIJxC,SAASC,eAAe,YAChC+B,iBAAiB,QAAS7B,IAIrCH,SAASgC,iBAAiB,mBAAoBD","file":"src.10351a20.js","sourceRoot":"..","sourcesContent":["\"use strict\";\n// import 'regenerator-runtime/runtime';\n// import axios from 'axios';\n\nconst state = {\n  tempValue: 85,\n};\n\ndocument.getElementById('tValue').textContent = state.tempValue;\n\n// get current temperature\nconst getRealTemp = () => {\n  const place = document.querySelector('input').value;\n\n  // axios.get('http://localhost:5000/location', {\n  axios.get('https://weather-report-c17-sharkss.herokuapp.com/location', {\n    params: {\n      'q': place\n    }\n  })\n  .then(response => {\n    const lat = response.data[0].lat;\n    const lon = response.data[0].lon;\n    // axios.get('http://localhost:5000/weather', {\n    axios.get('https://weather-report-c17-sharkss.herokuapp.com/weather', {\n      params: {\n        'lat': lat,\n        'lon': lon\n      }\n    })\n    .then(response => {\n      const tempK = response.data.current.temp;\n      const tempF = (tempK - 273.15) * 9/5 + 32;\n      state.tempValue = Math.floor(tempF);\n      console.log(tempF);\n      publishTemp();\n    })\n    .catch(error => {console.log('error!', error);})\n  })\n  .catch(error => {console.log('error!', error);});\n}\n\n// change the color of temperature text, background image, place name, background emoji according to changes of temp\nconst changeTempColor = () => {\n  const temp = document.getElementById(\"tValue\");\n  const tempBackground = document.getElementById(\"tempBack\");\n  const bodyImg = document.getElementById(\"body\");\n  if (temp.textContent >= 80) {\n    temp.className = 'red';\n    bodyImg.className = 'red1';\n    tempBackground.textContent = \"ğŸğŸŒµğŸœ\";\n  } else if (70 <= temp.textContent &&  temp.textContent <= 79) {\n    temp.className = 'orange';\n    bodyImg.className = 'orange1';\n    tempBackground.textContent = \"ğŸŒ»ğŸŒ»ğŸŒ»\";\n  } else if (60 <= temp.textContent &&  temp.textContent <= 69) {\n    temp.className = 'yellow';\n    bodyImg.className = 'yellow1';\n    tempBackground.textContent = \"ğŸ”ğŸ”ğŸ”\";\n  } else if (50 <= temp.textContent && temp.textContent <= 59) {\n    temp.className = 'green';\n    bodyImg.className = 'green1';\n    tempBackground.textContent = \"ğŸŒ³ğŸŒ³ğŸŒ³\";\n  } else if (temp.textContent < 49) {\n    temp.className = 'teal';\n    bodyImg.className = 'teal1';\n    tempBackground.textContent = \"â˜ƒï¸â˜ƒï¸â˜ƒï¸\";\n  }\n}\n\n// update tempValue state\nconst updateTemp = (delta) => {\n  state.tempValue += delta;\n}\n\n// show temperature and all its changes to screen\nconst publishTemp = () => {\n  const temperature = document.getElementById('tValue');\n  temperature.textContent = state.tempValue;\n  changeTempColor();\n}\n\n// all events\nconst addEvents = () => {\n  const arrowUp = document.getElementById('increase');\n  arrowUp.addEventListener('click', () => {\n    updateTemp(1);\n    publishTemp();\n  });\n\n  const arrowDown = document.getElementById('decrease');\n  arrowDown.addEventListener('click', () => {\n    updateTemp(-1);\n    publishTemp();\n  });\n\n  // get 'input', get 'city', attach event to input, change city as reaction to event \n  const input = document.querySelector('input');\n  const city = document.getElementById('reflectCity');\n\n  input.addEventListener('input', (e) => {\n    city.textContent = e.target.value;\n  });\n\n  // get 'select' element, add event to it, get 'options' of select and change pictures according to options\n  const select = document.querySelector('select');\n  select.addEventListener('change', (event) => {\n    const result = document.querySelector('#skyPic');\n    if (event.target.value == \"snowy\") {\n      document.getElementById('img').className = 'snowy';\n      document.getElementById('img').alt = 'snowy';\n    } else if (event.target.value == \"sunny\") {\n      document.getElementById('img').className = 'sunny';\n      document.getElementById('img').alt = 'sunny';\n    } else if (event.target.value == \"rainy\") {\n      document.getElementById('img').className = 'rainy';\n      document.getElementById('img').alt = 'rainy';\n    } else if (event.target.value == \"cloudy\") {\n      document.getElementById('img').className = 'cloudy';\n      document.getElementById('img').alt = 'cloudy';\n    }\n  })\n\n  // reset button\n  const reset = document.getElementById('reset');\n  const resetValue = input.getAttribute('value');\n  reset.addEventListener('click', () => {\n    input.value = resetValue;\n    city.textContent = resetValue;\n  })\n\n  // get real temperature of place in the input field\n  const getRealT = document.getElementById(\"realTime\");\n  getRealT.addEventListener('click', getRealTemp);\n};\n\n// attach event to whole document\ndocument.addEventListener('DOMContentLoaded', addEvents);\n"]}